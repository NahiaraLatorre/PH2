<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="description" content="Practica1-PH2">
    <meta name="author" content="Nahiara&Maria">
    
    <!-- Enlace al CSS principal -->
    <link rel = "stylesheet" type = "text/css" href = "css/style.css" title= "Estilo principal"/>
    <link rel="icon" href="img/logo-icon.ico" type="image/x-icon"/>
    
    <!--Para los iconos-->
    <link rel = "stylesheet" type = "text/css" href="iconos/css/fontello.css">
    <link rel = "stylesheet" type = "text/css" href="iconos/css/fontello-embedded.css">
    <link rel = "stylesheet" type = "text/css" href="https://fonts.googleapis.com/css?family=Permanent+Marker">

    <title>Registro</title>

</head>
<body>
    <header>
        <a href="index.html"><img src="img/logo.png" id="logo" alt="Logo CRAZY TRIPS" width="230"></a> 
        <h1>Crazy Trips</h1>
        <p>Viaja, escápate a otros lugares donde nunca hayas estado</p>
        
    </header>

    <!--Menú-->
    <input type="checkbox" id="ckb-menu">
    <nav>
        <ul>
            <li><label for="ckb-menu">&equiv;</label></li>
            <li><a href="index.html" id="Inicio"><i class="icon-home"></i> Inicio</a></li>
            <li><a href="buscar.html" id="Busqueda"><i class="icon-search"></i> Búsqueda</a></li>
            <li><a href="Nueva-entrada.html" id="Nueva_entrada"><i class="icon-picture"></i> Nueva entrada</a></li>
            <li><a href="registro.html" id="Registro"><i class="icon-user-plus"></i> Registrarse</a></li>
            <li><a href="login.html" id="Login"><i class="icon-login"></i> Login</a></li>
            <li><a href="index.html" id="Logout"><i class="icon-logout"></i> Logout</a></li>
            
        </ul> 
    </nav>

    <main>
        <h1>Registrarse</h1>
        <section>
            <form method="post" id = "formularioregistro" onsubmit = "peticionAJAX_PostRegistro();return false;">
                <!-- Encabezado del formulario de registro -->
                <h2>Datos para unirme</h2>
                <!--
                <br>
                <div id="usu"></div><p id="no2" class="no"></p>
                <br>
                <div id="contra"></div><p id="no" class="no"></p>
                <br>-->

                <!-- Campo de registro: nick -->
                 <label class="alinea" for = "nick"> Nick: </label><input type = "text" name ="nick" id = "nick" autofocus = "autofocus" placeholder = " Nombre identificativo" autofocus pattern="^[a-zA-Z][a-zA-Z0-9]{0,20}$" disabled/><br/><br>
                <!-- Campo de registro: nombre de usuario -->
                <label for = "usuario"> Nombre de usuario: </label>
                <input type="text" name ="usuario" placeholder="Nombre de usuario" id="usuario" required>
                <br/>
                <br>

                <!-- Campo de registro: contraseña -->
                <label for = "password"> Introduce contrase&ntilde;a: </label>
                <input type="password" id="password" name = "password" placeholder="Contraseña"
                required pattern="^[a-zA-Z0-9-_]{1,20}$"><br></div>
                <br/>
                <br>

                <!-- Campo de registro: repetir contraseña -->
                <label for = "password2"> Confirma la contrase&ntilde;a: </label>
                <input type = "password" name = "password2" id = "password2" placeholder = "Repite contrase&ntilde;a"/>
                <br/>
                <br>

                <!-- Campo de registro: correo electrónico -->
                <label for = "email">Email: </label>
                <input type="text" id="email" name = "email" placeholder="ejemplo@xxx.xx" required>
                <br/>
                <br>
                <br/>
                <br>

                <!-- Botón para confirmar el registro -->
                <input type = "submit" name = "registro" value = "¡Regístrate!" accesskey = "b" tabindex = "12"/>
            </form>

        </section>
    </main>
                    
    <!-- Pie de la página -->
    <footer>
        <p id = "pie">Cracy trips. Contacto: crazy_trips&#64;gmail.com - <a href="acerca.html">Acerca de nosotros</a></p>
        <p id = "derechos">Copyright &copy; 2017 | María Sánchez y Nahiara Latorre.</p>
    </footer>
    <script src="JavaScript/formularios.js"></script>
    <script type="text/javascript">

    window.onload=inicio;
    if(sessionStorage.getItem("nick")!=null){
        
        document.getElementById("usu").innerHTML='<label class="alinea" for = "nick"> Nick: </label><input type = "text" name ="nick" id = "nick" autofocus = "autofocus" placeholder = " Nombre identificativo" autofocus pattern="^[a-zA-Z][a-zA-Z0-9]{0,20}$" disabled/><br/><br>'; 
        document.getElementById("password").innerHTML='<label class="alinea" for="contraseña">Contraseña:*</label><input type="password" id="password" placeholder="Introducir contraseña" pattern="^[a-zA-Z0-9-_]{1,20}$">';
        document.getElementById("password2").innerHTML='<label class="alinea" for="contraseña">Contraseña:*</label><input type="password" id="password2" placeholder="Introducir contraseña" pattern="^[a-zA-Z0-9-_]{1,20}$"><br>';

        document.getElementById("email").value=sessionStorage.getItem("email");
        document.getElementById("nick").value=sessionStorage.getItem("nick");
        document.getElementById("usuario").value=sessionStorage.getItem("nombre");
        document.getElementById("nick").value=sessionStorage.getItem("nick");
        document.getElementById("nombre").required=false;
        document.getElementById("email").required=false;
    }else {
        document.getElementById("usu").innerHTML='<label class="alinea" for="nick">Nick:*</label><input type="text" id="nick" onchange="peticionComprobarLogin(this.value)" placeholder="Introducir nombre" required autofocus pattern="^[a-zA-Z][a-zA-Z0-9]{0,20}$"><br>'; 
        document.getElementById("password").innerHTML='<label class="alinea" for="password">Contraseña:*</label><input type="password" id="password" placeholder="Introducir contraseña" required pattern="^[a-zA-Z0-9-_]{1,20}$"><br>';
        document.getElementById("password2").innerHTML='<label class="alinea" for="contraseña">Contraseña:*</label><input type="password" id="password2" placeholder="Introducir contraseña" required pattern="^[a-zA-Z0-9-_]{1,20}$"><br>';
    }

    </script>
</body>
</html>